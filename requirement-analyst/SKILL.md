---
name: requirement-analyst
description: 游戏开发需求分析专家。用于从世界观设定文档中提取并生成完整的需求文档套件。当用户提供世界观.md、设定集.md等创意文档，需要生成游戏基本信息、角色需求、场景需求、音频需求、代码需求等文档时使用此技能。适用于游戏项目启动阶段的需求梳理工作。
---

# 需求分析专家

将创意文档转化为结构化的游戏开发需求文档。

## 工作流程

```
输入文档                    分析过程                      输出文档
┌─────────────┐         ┌──────────────┐           ┌─────────────────┐
│ 世界观.md   │────────▶│  1. 信息提取  │──────────▶│ 游戏基本信息.md  │
│ 设定集.md   │         │  2. 需求推导  │           │ 角色需求.md      │
│ 剧本大纲.md │         │  3. 规格定义  │           │ 场景需求.md      │
│ (可选)      │         │  4. 优先分级  │           │ 音频需求.md      │
└─────────────┘         └──────────────┘           │ 代码需求.md      │
                                                    └─────────────────┘
```

## 执行步骤

### 1. 读取输入文档

读取用户提供的世界观和设定文档，提取关键信息：
- 世界背景、势力阵营
- 角色列表、角色关系
- 场景类型、氛围描述
- 核心玩法、操作方式
- 技术规格（如有提及）

### 2. 生成游戏基本信息

基于模板 [游戏基本信息.md](assets/templates/游戏基本信息.md)，填充：
- 基本信息（名称、类型、平台）
- 核心玩法机制
- 操作方式映射
- 技术规格

### 3. 生成角色需求文档

基于模板 [角色需求.md](assets/templates/角色需求.md)，为每个角色生成：
- 角色ID命名规范：`player_001`、`npc_001`、`enemy_001`
- 视觉资源需求（立绘、头像、精灵图规格）
- 动画帧需求（idle/walk/attack/hurt/death）
- 属性和技能需求

### 4. 生成场景需求文档

基于模板 [场景需求.md](assets/templates/场景需求.md)，定义：
- 场景ID命名规范：`map_001`、`battle_001`、`ui_001`
- 背景和瓦片规格
- 图层结构
- 交互元素

### 5. 生成音频需求文档

基于模板 [音频需求.md](assets/templates/音频需求.md)，列出：
- BGM需求（场景配乐）
- SFX需求（UI/战斗/角色音效）
- 环境音需求
- 音频技术规格

### 6. 生成代码需求文档

基于模板 [代码需求.md](assets/templates/代码需求.md)，规划：
- 技术栈选择
- 核心系统设计
- 组件需求
- 目录结构
- 开发优先级

## 输出规范

### 文档命名
输出文件统一放置在 `需求分析输出/` 目录：
```
需求分析输出/
├── 游戏基本信息.md
├── 角色需求.md
├── 场景需求.md
├── 音频需求.md
└── 代码需求.md
```

### ID命名规范

| 类型 | 前缀 | 示例 |
|------|------|------|
| 玩家角色 | player_ | player_001 |
| NPC | npc_ | npc_001 |
| 敌人 | enemy_ | enemy_001 |
| 地图 | map_ | map_001 |
| 战斗场景 | battle_ | battle_001 |
| UI界面 | ui_ | ui_001 |
| BGM | bgm_ | bgm_001 |
| 音效 | sfx_ | sfx_001 |
| 技能 | skill_ | skill_001 |

### 优先级定义

| 级别 | 含义 | 适用场景 |
|------|------|----------|
| P0 | 必须 | Demo必需、核心功能 |
| P1 | 重要 | 完整游戏必需 |
| P2 | 次要 | 增强体验 |
| P3 | 可选 | 锦上添花 |

## 模板文件

| 模板 | 用途 |
|------|------|
| [游戏基本信息.md](assets/templates/游戏基本信息.md) | 游戏概览文档 |
| [角色需求.md](assets/templates/角色需求.md) | 角色美术需求 |
| [场景需求.md](assets/templates/场景需求.md) | 场景美术需求 |
| [音频需求.md](assets/templates/音频需求.md) | 音频制作需求 |
| [代码需求.md](assets/templates/代码需求.md) | 技术开发需求 |

## 使用示例

**用户输入：**
> 请根据 点子王.md 生成需求分析文档

**执行流程：**
1. 读取点子王.md
2. 提取世界观、角色、场景、玩法信息
3. 基于模板生成5份需求文档
4. 输出到需求分析输出/目录
